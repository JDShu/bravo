

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Philosophy &mdash; Bravo v1.2 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Bravo v1.2 documentation" href="index.html" />
    <link rel="next" title="Noise" href="noise.html" />
    <link rel="prev" title="Configuration" href="config.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="noise.html" title="Noise"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="config.html" title="Configuration"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Bravo v1.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="philosophy">
<h1>Philosophy<a class="headerlink" href="#philosophy" title="Permalink to this headline">¶</a></h1>
<div class="section" id="design-decisions">
<h2>Design Decisions<a class="headerlink" href="#design-decisions" title="Permalink to this headline">¶</a></h2>
<p>A <strong>design decision</strong> is a core component of building a large piece of
software. Roughly stated, it is a choice to use a certain language, library,
or methodology when constructing software. Design decisions can be
metaphysical, and affect other design decisions. This is merely a way of
talking formally and reasonably about choices made in producing Bravo.</p>
<p>This section is largely dedicated to members of the community that have
decided that things in Bravo are done incorrectly. While we agree with the need
of the community to constructively criticize itself, some things are not worth
debating again.</p>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>Python is occasionally seen as slow compared to statically typed languages.
Some benchmarks certainly are very unflattering to Python, but we feel that
there are several advantages to Python which are too important to sacrifice:</p>
<blockquote>
<ul class="simple">
<li>Rapid prototyping</li>
<li>Algorithmic simplicity</li>
<li>Simple types</li>
<li>Twisted</li>
</ul>
</blockquote>
<p>Additionally, with the advent of PyPy, the question of whether a full-fledged
Python application is too slow for consumer hardware is rapidly fading.</p>
<div class="section" id="no-extension-modules">
<h4>No Extension Modules<a class="headerlink" href="#no-extension-modules" title="Permalink to this headline">¶</a></h4>
<p>There are several good reasons to not ship &#8220;extension modules,&#8221; pieces of code
written in Fortran, C, or C++ which are compiled and dynamically linked
against the CPython extension API. Some of them are:</p>
<dl class="docutils">
<dt>Portability</dt>
<dd>Python and C have different scopes of portability, and the scope of the C API
for Python is limited practically to CPython. Each module we depend on
externally has the potential to reduce the number of platforms we can
support.</dd>
<dt>Maintainability</dt>
<dd>C is not maintainable on the same scale as Python, even with (and, some would
argue, especially with) the extremely structured syntax required to interface
with the C API for Python. Cython is maintainable, but does not solve the
other problems.</dd>
<dt>Dependencies</dt>
<dd>Somebody has to provide binary versions of the modules for all the people
without compilers. Practically, this does mean that Win32 users need to have
binaries provided for them, as long as our thin veneer of Win32 compatibility
holds up.</dd>
<dt>Forward-compatibility</dt>
<dd>Frankly, extension modules are forever incompatible with the spirit of PyPy,
and require, at bare minimum, a recompile and prayer before they&#8217;ll
cooperate. This is another hurdle to jump over in the ongoing quest to make
PyPy a supported Python interpreter for the entire package.</dd>
</dl>
<p>Frankly, most extension modules aren&#8217;t worth this trouble. Extension modules
which are well-tested, ubiquitous, and actively maintained, are generally
going to be favored more than extensions which break, are hard to obtain or
compile, or are derelict.</p>
<p>At the moment, the only extension modules required are in the numpy package,
which has benefits far outweighing the above complaints.</p>
<p>I am expressly vetoing noise. In addition to the above complaints, its API
doesn&#8217;t even provide an equivalent to the pure-Python code in Bravo&#8217;s core
which it would supposedly supplant.</p>
</div>
<div class="section" id="twisted">
<h4>Twisted<a class="headerlink" href="#twisted" title="Permalink to this headline">¶</a></h4>
<p>Apparently, in this day and age, people are still of the opinion that Twisted
is too big and not necessary for speedy, relatively bug-free networking.
Nothing written here will convince these people; so, instead, I offer this
promise: If anybody contributes a patch which makes Bravo not depend on
Twisted, does not degrade its performance measureably, and does not break any
part of Bravo, then I will acknowledge and apply it.</p>
</div>
</div>
<div class="section" id="no-threads">
<h3>No Threads<a class="headerlink" href="#no-threads" title="Permalink to this headline">¶</a></h3>
<p>Threads are evil. They are not an effective concurrency model in most cases.
Tests done with offloading various parts of Bravo&#8217;s CPU-bound tasks to threads
have shown that threads are a liability in most cases, enforcing locking
overhead while providing little to no actual benefit in terms of speed and
latency.</p>
<p>However, as a concession to the CPU-centric nature of geometry generation,
Bravo will offload all geometry generation to separate processes when Ampoule
is available and enabled in its configuration file, which does yield massive
improvements to server interactivity.</p>
</div>
<div class="section" id="extreme-extensibility">
<h3>Extreme Extensibility<a class="headerlink" href="#extreme-extensibility" title="Permalink to this headline">¶</a></h3>
<p>Bravo is remarkably extensible. Pieces of functionality that are considered
essential or &#8220;core&#8221; are treated as plugins and dynamically loaded on server
startup. Actual services are dynamically started and stopped as needed.
Bravo&#8217;s core does not even provide Minecraft services by default.</p>
<p>The reason for this extreme plugin approach is that Bravo was designed to be
easily totally convertible; in theory, a proper set of configuration files and
external plugins can completely change Bravo&#8217;s behavior.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Philosophy</a><ul>
<li><a class="reference internal" href="#design-decisions">Design Decisions</a><ul>
<li><a class="reference internal" href="#python">Python</a><ul>
<li><a class="reference internal" href="#no-extension-modules">No Extension Modules</a></li>
<li><a class="reference internal" href="#twisted">Twisted</a></li>
</ul>
</li>
<li><a class="reference internal" href="#no-threads">No Threads</a></li>
<li><a class="reference internal" href="#extreme-extensibility">Extreme Extensibility</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="config.html"
                        title="previous chapter">Configuration</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="noise.html"
                        title="next chapter">Noise</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/philosophy.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="noise.html" title="Noise"
             >next</a> |</li>
        <li class="right" >
          <a href="config.html" title="Configuration"
             >previous</a> |</li>
        <li><a href="index.html">Bravo v1.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Corbin Simpson &amp; Derrick Dymock.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.5.
    </div>
  </body>
</html>